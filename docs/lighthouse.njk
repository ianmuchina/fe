<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEhklEQVR4AWJxL/BhIAesev1U5tcflpncgNrKIsqNIwzC9feMpDUzs70kOczMzMzJJcxwCTMzncPMnOwtzBwzMzPb0vRfeZPp0VhPS5I39V5fdiXV1/VD+9QC7OVn9BsyH1XIoEI1PfmJvLFowVV564+34DFUHudbmfDh4kVXh//7XwE+WjS/YfXZe3yr4j2rqj1AIhSB7hZ8ZtPZu/zw8cK523U4wE1/rvPfWrz4zs0m9ZdC9yUJAlASdBAgocRegfF/f3/h/PuaFsxMdwjAR0vm1+06eMMfIrhLqTWqdH4EumU2SPfMhigJAlRQbZrgrRsl9U+Y2DYDFCz3ILC9kiAiqSrMwbWT0nceEnR+9Kggc2zjOJCASDENkg0a5HfZZgDP81CM3CrQs2Z1+o7DJ6ePr8sK0AOCHv5Jjdt3evyYSaZ351VIStIxPRAUtrBYbxC6w+BZ0ivVSBKkIhJhemSyZpfB00EiPO2VjzYkxhcqXQqCWCShGplvi3y0QxqbuBurMjyJeWnkHZuAEgIQGsUBqwrfjZ+IlBgKyRJzVVYF8O6qFWdh86YzQzMrZigYmxAyfvHgLZQ/LC1CbeniW2Hkqr/PH16SgvGuf2/uzNMBwJA/njxizGPtSyAf7EziJCMGRDRdhoAC4PL1A/SrKQMAAQkEfpJAcRQdrBJ7gNwjSpJsdwK+CANBkqa1LgQB4IicV9nYUct7gaxuDJUErQIiEAiMxLVOFlKzIktPpT0ggpdpC/8YAHnxbgkUY4tAAFSR7AAXNyAAWHJrA/kHGjzg5nleuwFO7Nd/IoDw4Pm58+4jNLmYG0wRA5bErc2Mr3Y+dXTDW1VvwqbJkzMCHQ4S1GTCBOIgUHJrGdEwqzR+jAp/o2qAZelUDoQnruEEdDclJI6576AlNVfc+22XN/+Y1vnJD0Yind6UpEEvn/Hqq15EYjCW7jZCJEpnNvDgkyelDjs106kuux2AAXCSobULOWP8mLhYlpoDMK4qAFXJGk+grtH8YXVz5KJblqaG1+VUdTc0I290bmUQAriGITRbdQnom0aoFj8kx1+wMD2ifncAXUQE4SkDqN1hE0jEophs1SUwZAOhUAiMCLwRtamtTZtbbmZErSAUHbSysaoEmnrsakiMiUAURi283gN6wans9oX8rOCrj7/JP35DFD+iQ7Au/K2KE1jzx6ujjUnXFH9KjEq6ZlhsTBICrNLJf47Pv/pkHzvup1w4dmUbEei0+bcXRqJuh5kVARQ8byyYxOwNGr7A87xh1tp8sGT+uMInrwi++Xj7TQz2d27NvwEkrOflAFQGIDA5khASBCGdO2/Z/MnLPwYfv5TFhjW7QhVKAB6afwe2LpFlFsCnlQEosgQgDsdOG1/LKeNqJS4JCSPJ/i+TakwEARor7gER1Iva5JmPOJK0RUqmoPnnlzFCtmIAhAAQEIQRgDaiYPIauNXcnDlRIrWNFY3hm7PG9YRqr7IV7HrCgAC17befjEvRq2nGhAHtBqDpOuI/I1diUUAMYIxEdyejBJqLnNoszGZtfiX/CztGv2mq+sdaAAAAAElFTkSuQmCC">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Lighthouse Reports</title>
        <meta
        name="description"
        content="Lighthouse Results for Frontend Mentor Challenges">
        <link rel="stylesheet" href="styles.css"/>

    </head>
    <body>
        <main>

        
        {% for l in lighthouse %}
            <div class="r">
                <header class="dim">
                    <span>
                        # {{ l.url.slice(1).replace("/index.html", "") }}
                    </span>
                    <span
                        class="pass">
                        {# if all checks are at 100 #}
                        {% if 
                            l.summary.performance ===1 and
                            l.summary.accessibility ==1 and
                            l.summary["best-practices"] ==1 and
                            l.summary.seo ==1 %}
                            ⭐
                        {% endif %}
                    </span>
                </header>
                <br/>
                {% macro icon(score) %}
                    {% if score >= 90 %}
                        <span class="green">●</span>
                    {% elif score >=50 %}
                        <span class="orange">■</span>
                    {% else %}
                        <span class="red">▲</span>
                    {% endif %}
                {% endmacro %}
                <!-- Performance -->
                <div>
                    {{ icon(l.summary.performance * 100) }} Performance:
                    <span>{{ l.summary.performance * 100 }}</span>
                </div>
                <!-- Accesibility -->
                <div>
                    {{ icon(l.summary.accessibility * 100) }} Accesibility:
                    <span>{{ l.summary.accessibility * 100 }}</span>
                </div>
                <!-- Best Practice -->
                <div>
                    {{ icon(l.summary["best-practices"] * 100) }} Best Practice:
                    <span>{{ l.summary["best-practices"] * 100 }}</span>
                </div>
                <!-- SEO -->
                <div>
                    {{ icon(l.summary.seo * 100) }} SEO:
                    <span>{{ l.summary.seo * 100 }}</span>
                </div>
                <br/> <br/>
                <div
                    class="link"
                    data-href='/.lhci/{{ l.htmlPath.split("lhci")[1] }}'
                    target="_blank"
                    rel="noopener noreferrer">
                    Full Report ↗
                </div>
            </div>
        {% endfor %}
    </main>
    <iframe id="lhci" src="" frameborder="1"></iframe>
    </body>
    <script>
        let links = document.querySelectorAll(".link")
        let lhci = document.querySelector("#lhci")
        
        links.forEach(l => l.addEventListener("click", e => {
            console.log(e.target.dataset.href)
            lhci.src = e.target.dataset.href
        }))
    </script>
</html>